---
# Schema
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

page:
  path:
    type: url
    lifetime: application
    send_in_pings:
      - page
      - action
    description: |
      The URL path of the page that was viewed.
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1782509
    data_reviews:
      - https://github.com/mdn/yari/pull/6813#issuecomment-1203705308
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05
  referrer:
    type: url
    lifetime: application
    send_in_pings:
      - page
      - action
    description: |
      The referring URL that linked to the page that was viewed.
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1782509
    data_reviews:
      - https://github.com/mdn/yari/pull/6813#issuecomment-1203705308
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05

navigator:
  geo:
    type: string
    lifetime: application
    send_in_pings:
      - page
      - action
    description: |
      The navigators ISO 3166 country name (not code) based on geo ip.
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1798296
    data_reviews:
      - https://github.com/mdn/yari/pull/7457#issuecomment-1296934544
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05
  user_agent:
    type: string
    lifetime: application
    send_in_pings:
      - page
      - action
    description: |
      The navigators user agent.
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1798296
    data_reviews:
      - https://github.com/mdn/yari/pull/7457#issuecomment-1296934544
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05
  subscription_type:
    type: string
    lifetime: application
    send_in_pings:
      - page
      - action
    description: |
      The subscription type of the user. can be one of
      'core','mdn_plus_5m','mdn_plus_5y','mdn_plus_10m','mdn_plus_10y'
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1798296
    data_reviews:
      - https://github.com/mdn/yari/pull/7457#issuecomment-1296934544
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05

element:
  clicked:
    type: event
    lifetime: ping
    send_in_pings:
      - action
    description: |
      MDN Page element clicks.
    data_sensitivity:
      - web_activity
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1782509
    data_reviews:
      - https://github.com/mdn/yari/pull/6813#issuecomment-1203705308
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2023-09-05
    extra_keys:
      source:
        description: |
          The click source/target
        type: string
      subscription_type:
        description: |
          The subscription type of the user. can be one of
          'core','mdn_plus_5m','mdn_plus_5y','mdn_plus_10m','mdn_plus_10y'
        type: string

  navigation:
    type: event
    lifetime: ping
    send_in_pings:
      - action
    description: |
      MDN Page element interaction (e.g. click) that triggers a navigation.
    data_sensitivity:
      - web_activity
    bugs:
      - TODO
    data_reviews:
      - TODO
    notification_emails:
      - mdn-team@mozilla.com
    expires: 2024-02-22
    extra_keys:
      component:
        description: |
          Type of element (e.g. "breadcrumbs", "sidebar")
          that triggered the navigation.
        type: string
      id:
        description: |
          Identifies the element (e.g. "current", "root", "1/6")
          that triggered the navigation.
        type: string
      relation:
        description: |
          Describes the relationship between the current and target page
          (e.g. "sibling", "200px [apart]").
        type: string
      from:
        description: |
          URL of the current page from which the user navigates away.
        type: string
      to:
        description: |
          URL of the next page to which the user is navigating.
        type: string
